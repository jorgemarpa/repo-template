{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Template Repo","text":"<p>This is a template repository ready to develop code. It uses poetry to manage dependencies, python environment, and packaging. Flake8 and Black to format code. Mkdocs to create documentation from docstring. And adds GitHub actions to automatize tasks.</p>"},{"location":"#poetry","title":"Poetry","text":"<p>Poetry helps you to manage a python package project. It manage dependencies, versions, and python environments.  First initialize a project:</p> <pre><code>poetry new --src &lt;repo-name&gt;\n</code></pre> <p>This will create a new <code>repo-name</code> directory with default files and folders. We use the <code>--src</code> flag to use the source folder layout. In the repo directory we can add new dependencies with:</p> <pre><code>poetry add numpy matplotlib pandas\n</code></pre> <p>To install the ne package in a virtual env we can do:</p> <p><pre><code>poetry install\n</code></pre> and to run other commands using the python env, e.g. <code>pytest</code>, we can do:</p> <pre><code>poetry run pytest...\n</code></pre> <p>To release and publish our package with poetry in PyPi we use: <pre><code>poetry build\n</code></pre> this will create the wheel files and package the repository in the <code>dist</code> folder Then after creating a new package in PyPi website and setting up the token we configure this into poetry:</p> <p><pre><code>poetry config pypi-token.pypi &lt;token&gt;\n</code></pre> and then we publish with: <pre><code>poetry publish\n</code></pre> This will upload the package to the index. We will do this every time there is a new major or minor version of our package. This can be done also as a GitHub action, will add that later.</p>"},{"location":"#github","title":"GitHub","text":"<p>Initialize Git repository and sync with GitHub: In the project directory do <pre><code>git init\n</code></pre> to initialize the Git repo. Now we can add changes and commit to the main branch and sync with GitHub.</p> <p><pre><code>git add *\ngit commit -m \"first commit\"\ngit remote add origin &lt;GITHUB url&gt;\ngit push -u origin main\n</code></pre> More info here.</p>"},{"location":"#mkdocs","title":"MkDocs","text":"<p>To create a documentation page using the docstring in our code we will use <code>mkdocs</code> website. First, install the library in the virtual env: <pre><code>poetry add -G dev mkdocs mkdocstrings mkdocs-material\n</code></pre></p> <p>Now we can initialize MkDocs with: <pre><code>poetry run mkdocs new .\n</code></pre> This will create the configuration file and docs folder to add to our page.</p> <p>To build the documentation as a page we use: <pre><code>poetry run mkdocs build\npoetry run mkdocs serve\n</code></pre> This will build the documentation and create a local view of the page to visualize in our browser.</p> <p>Additionally, we need to give permission to GitHub to deploy the website from the repository branch. We do this by going to the configuration's page of the repository and in the \"Pages\" tab on the left we update the source to \"Deploy from a branch\" and change the branch to \"gh-pages\" in the \"/root\" directory. To deploy the the page to Github branch with the documentation we do <pre><code>poetry run mkdocs gh-deploy\n</code></pre> this will create the website https://jorgemarpa.github.io/repo-template/ which has the documentation we have created.</p> <p>As an extra step, we can add a quick link to the repo page in the \"About\" section of the landing page of our repository.</p>"},{"location":"#pytest","title":"Pytest","text":"<p>Pytest will run any test code that is written in the <code>tests</code> folder. Ideally we want to test all our code to ensure nothing breaks and that function behavior is as expected. We can run <code>pytest</code> locally before committing to the branch or PR with: <pre><code>poetry run pytest -v tests\n</code></pre></p>"},{"location":"#github-actions","title":"GitHub Actions","text":"<p>This are automatic actions that happens during pushing new commits and/or pull request. We can configure these actions in a <code>yaml</code> file in the <code>.github/workflows</code> directory. These actions automatize most of the routine steps described in this document. </p> <p>In this template we have the following workflows: </p> <ul> <li><code>ruff</code>: does code formatting, lint, and sorting. It replaces <code>flake8</code>, <code>isort</code>, and <code>black</code>.</li> <li><code>deploy-mkdocs</code>: creates documentation page from with Mkdocs.</li> <li><code>pytest</code>: runs python test</li> <li><code>dependabot</code>: check for security and version updates of project dependencies and creates PRs when new version are available.</li> <li><code>mypy</code>: check for python static programming. </li> <li><code>pypi-publish</code>: published the project in PyPI when a new GitHub release/tag is created</li> </ul>"},{"location":"#publish-to-pypi-action","title":"Publish to PyPI Action","text":"<p>This repo has the action <code>pypi-publish.yaml</code> that automatically publish the package to TestPyPI once a  release or a tag version is created in GitHub. Note that for this example we used  TestPyPI which is an instance of PyPI to test package deployment and publishing  without affecting the real index. It is ideal to test things.  We also need to setup a TestPyPI/PyPI API token and add it to GitHub secrets.</p> <p>When our package is ready to be publish to the real PyPI, we need to update the action as follows: <pre><code>- name: Config Poetry to testPyPI\n        run: |\n          poetry config repositories.test-pypi https://test.pypi.org/legacy/\n          poetry config pypi-token.test-pypi \"${{ secrets.TEST_PYPI_API_KEY }}\"\n- name: Publish package to testPyPI\n        run: poetry publish -r test-pypi --build\n</code></pre> to  <pre><code>- name: Config Poetry to PyPI\n        run: |\n          poetry config pypi-token.pypi \"${{ secrets.PYPI_API_KEY }}\"\n- name: Publish package to testPyPI\n        run: poetry publish --build\n</code></pre> This will change te repository configuration back to publish to PyPI. Remember to add the PyPI API token to GitHub secrets.</p> <p>See this tutorial for more details.</p>"},{"location":"myclass/","title":"<code>MyClass</code>","text":""},{"location":"myclass/#src.repo_template.MyClass","title":"MyClass","text":"<p>               Bases: <code>object</code></p> <p>This is my example class and it does things in order</p>"},{"location":"myclass/#src.repo_template.MyClass.__init__","title":"__init__","text":"<pre><code>__init__(order: bool = True)\n</code></pre> <p>Parameters:</p> <ul> <li> <code>order</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Set if things are done in order or not, by default True</p> </li> </ul>"},{"location":"myclass/#src.repo_template.MyClass.sum","title":"sum","text":"<pre><code>sum(a: float = 1, b: int = 2) -&gt; float\n</code></pre> <p>Sum two values</p> <p>Parameters:</p> <ul> <li> <code>a</code>               (<code>float</code>, default:                   <code>1</code> )           \u2013            <p>first value to sum, by default 1</p> </li> <li> <code>b</code>               (<code>int</code>, default:                   <code>2</code> )           \u2013            <p>second value to sum, by default 2</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>result</code> (              <code>float</code> )          \u2013            <p>result of sum</p> </li> </ul>"},{"location":"myclass/#src.repo_template.MyClass.multiply","title":"multiply","text":"<pre><code>multiply(a: float = 1, b: float = 2) -&gt; float\n</code></pre> <p>Multiply two values and return result</p> <p>Parameters:</p> <ul> <li> <code>a</code>               (<code>float</code>, default:                   <code>1</code> )           \u2013            <p>First value, by default 1</p> </li> <li> <code>b</code>               (<code>float</code>, default:                   <code>2</code> )           \u2013            <p>Second value, by default 2</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>result</code> (              <code>float</code> )          \u2013            <p>result of multiplication</p> </li> </ul>"},{"location":"tutorials/example/","title":"Example","text":"In\u00a0[\u00a0]: Copied! <pre>import numpy as np\n\nfrom repo_template import MyClass\n</pre> import numpy as np  from repo_template import MyClass In\u00a0[6]: Copied! <pre>np.random.normal(0,1,100)\n</pre> np.random.normal(0,1,100) Out[6]: <pre>array([-0.79129572, -0.9398005 , -1.6903899 , -1.74192989, -1.69343703,\n       -1.27570862, -0.67638766,  0.6200366 ,  1.22451633,  0.87857577,\n       -1.61450659,  2.04116806, -1.19964749,  2.31153793,  1.08838898,\n        1.55229395, -0.90102813,  0.16606395, -0.13770921,  1.3235968 ,\n        0.39566025,  0.53656631,  1.4980336 ,  0.95384687, -0.35095408,\n       -0.86294468,  0.59957154,  0.23614157, -0.43894036, -1.40333864,\n       -0.38542375, -1.02835089,  0.17673695,  1.10192821,  1.55789799,\n        0.95317886,  0.03241093, -1.38650601,  0.34552463, -0.05478024,\n       -0.12776727, -1.4777164 ,  0.3010212 , -1.22863422, -2.34826369,\n       -0.08858167, -0.87858085,  0.42890409, -0.24994762, -0.21881426,\n       -0.482732  , -0.68211078, -2.55790557, -0.89741928, -0.02473867,\n       -1.94195675,  1.0847027 , -0.6674866 ,  0.23903453, -0.43448258,\n       -1.41316547,  0.70121513,  0.1439859 , -2.27302984, -0.37143393,\n       -0.05549079,  0.51363422,  0.59904836,  1.08351905,  0.06399775,\n        0.77295814,  0.18300243, -2.17959098,  0.43622269, -1.22151724,\n        0.37548863, -0.02117487, -0.10492146,  1.19846273, -1.79748737,\n        0.18907758, -1.18192449,  0.49735538,  0.04369216, -0.73739854,\n       -0.29176559, -0.32139532,  0.43005128,  0.06751926,  0.45526456,\n       -1.04240194,  0.22022947,  0.41146861,  0.83179325,  0.60431365,\n        0.34957219,  0.01012073, -1.04228537,  1.45365846, -0.72277632])</pre> In\u00a0[2]: Copied! <pre>mc = MyClass()\nmc.multiply(10, 4.3)\n</pre> mc = MyClass() mc.multiply(10, 4.3) Out[2]: <pre>43.0</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"tutorials/example/#example-jupyter-notebook","title":"Example Jupyter notebook\u00b6","text":"<p>This example notebook is to show how it can be added to the documentation with <code>Mkdocs</code></p>"}]}